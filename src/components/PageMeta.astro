---
import { SITE_TITLE, SITE_DESCRIPTION, SITE_URL } from "../config";

export interface Props {
  title?: string;
  description?: string;
}

const { title, description } = Astro.props;

// Ensure we have valid values for title and description
const pageTitle = title || SITE_TITLE || 'Página sin título';
const pageDescription = description || SITE_DESCRIPTION || 'Sin descripción disponible';

// Simple meta tags without the getPageMeta function
const meta = {
  title: pageTitle,
  description: pageDescription,
  canonicalUrl: SITE_URL + Astro.url.pathname
};

const og = {
  title: pageTitle,
  description: pageDescription,
  type: 'website',
  url: SITE_URL + Astro.url.pathname,
  image: new URL('/images/og.png', SITE_URL).toString(),
  imageAlt: pageTitle,
  imageWidth: '1200',
  imageHeight: '630'
};

const twitter = {
  title: pageTitle,
  description: pageDescription,
  card: 'summary_large_image',
  image: new URL('/images/og.png', SITE_URL).toString(),
  imageAlt: pageTitle
};
---

<!-- Primary Meta Tags -->
<title>{meta.title}</title>
<meta name="title" content={meta.title} />
{meta.description && <meta name="description" content={meta.description} />}

<!-- Open Graph / Facebook -->
{og.title && <meta property="og:title" content={og.title} />}
{og.description && <meta property="og:description" content={og.description} />}
{og.type && <meta property="og:type" content={og.type} />}
{og.url && <meta property="og:url" content={og.url} />}
{og.image && <meta property="og:image" content={og.image} />}
{og.imageAlt && <meta property="og:image:alt" content={og.imageAlt} />}
{og.imageWidth && <meta property="og:image:width" content={og.imageWidth} />}
{og.imageHeight && <meta property="og:image:height" content={og.imageHeight} />}

<!-- Twitter -->
      <meta name="twitter:card" content={twitter.card} />
      <meta name="twitter:title" content={twitter.title} />
      {twitter.description && (
        <meta name="twitter:description" content={twitter.description} />
      )}
      <meta name="twitter:image" content={twitter.image} />
      <meta name="twitter:image:alt" content={twitter.imageAlt} />
