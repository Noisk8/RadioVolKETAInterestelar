---
import RadioPlayer from "./RadioPlayer.astro";
import ChatPanel from "./ChatPanel.astro";
---

<section class="space-y-24">
  <div id="player" class="listening-deck">
    <div class="deck-header">
      <h2>KBalah Radio</h2>
    </div>
    <div class="deck-grid">
      <RadioPlayer />
      <ChatPanel />
    </div>
  </div>

  <!-- <div class="hero-grid">
    <div class="hero-copy">
      <span class="hero-chip">Frecuencia 24/7</span>
      <h1 class="hero-title">
        Orbitamos <span class="highlight">sonidos</span> que conectan comunidades.
      </h1>
      <p class="hero-text">
        kblah Radio es la señal experimental de KBalah: sets, sesiones en vivo y narrativas sonoras que viajan del downtempo al techno luminoso.
      </p>
      <div class="hero-actions">
        <a href="#player" class="cta-primary">Escuchar ahora</a>
        <a href="/nouns-episodios" class="cta-secondary">Episodios destacados</a>
      </div>
    </div>
    <div class="hero-visual">
      <figure class="photo-frame">
        <div class="photo-corners" aria-hidden="true">
          <span class="corner corner--tl"></span>
          <span class="corner corner--tr"></span>
          <span class="corner corner--bl"></span>
          <span class="corner corner--br"></span>
        </div>
        <img src="/LOGO.jpg" alt="kblah Radio" class="photo logo-photo" loading="lazy" />
        <span class="photo-sticker">✶ kblah vibes</span>
      </figure>
    </div>
  </div> -->

  <!-- <div class="stats-frame">
    <div class="stats-grid">
      <article>
        <h3>+8 años</h3>
        <p>Curaduría independiente e investigación sonora.</p>
      </article>
      <article>
        <h3>Programación viva</h3>
        <p>Sesiones híbridas con colectivos invitados y archivo emergente.</p>
      </article>
      <article>
        <h3>Radio &amp; Comunidad</h3>
        <p>Eventos, charlas y residencias con artistas locales y globales.</p>
      </article>
      <article>
        <h3>Chat interestelar</h3>
        <p>Conecta con la tripulación en tiempo real durante cada transmisión.</p>
      </article>
    </div>
  </div> -->

</section>

<style>
  .hero-grid {
    display: grid;
    gap: 3rem;
    align-items: center;
  }

  @media (min-width: 992px) {
    .hero-grid {
      grid-template-columns: minmax(0, 1.1fr) minmax(0, 0.9fr);
    }
  }

  .hero-copy {
    display: grid;
    gap: 1.75rem;
  }

  .hero-chip {
    display: inline-flex;
    align-items: center;
    gap: 0.45rem;
    padding: 0.45rem 1.1rem;
    border-radius: 999px;
    border: 1.5px solid rgb(var(--color-border-ink));
    background: rgb(var(--color-bg-card));
    box-shadow: 6px 6px 0 rgba(var(--shadow-soft) / 0.14);
    font-size: 0.75rem;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    color: rgb(var(--color-text-heading));
  }

  .hero-chip::before {
    content: "☄";
  }

  .hero-title {
    font-size: clamp(2.4rem, 5vw, 3.8rem);
    line-height: 1.1;
    font-weight: 600;
    color: rgb(var(--color-text-heading));
  }

  .highlight {
    position: relative;
    display: inline-block;
  }

  .highlight::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0.08em;
    width: 100%;
    height: 0.4em;
    background: rgb(var(--color-primary-yellow));
    z-index: -1;
  }

  .hero-text {
    font-size: 1.05rem;
    max-width: 38ch;
    color: rgb(var(--color-text-muted));
  }

  .hero-actions {
    display: flex;
    flex-wrap: wrap;
    gap: 1rem;
  }

  .cta-primary,
  .cta-secondary {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 0.75rem 1.4rem;
    border-radius: 999px;
    border: 1.5px solid rgb(var(--color-border-ink));
    font-size: 0.9rem;
    letter-spacing: 0.16em;
    text-transform: uppercase;
    transition: transform 0.2s ease, box-shadow 0.2s ease, background 0.2s ease;
  }

  .cta-primary {
    background: rgb(var(--color-primary-blue));
    color: rgb(var(--color-text-heading));
    box-shadow: 6px 6px 0 rgba(var(--shadow-soft) / 0.18);
  }

  .cta-secondary {
    background: rgb(var(--color-bg-card));
    color: rgb(var(--color-text-heading));
    box-shadow: 6px 6px 0 rgba(var(--shadow-soft) / 0.12);
  }

  .cta-primary:hover,
  .cta-secondary:hover {
    transform: translateY(-2px);
  }

  .hero-visual {
    position: relative;
    justify-self: center;
  }

  .photo-frame {
    position: relative;
    display: inline-block;
    padding: 1.5rem;
    border: 1.5px solid rgb(var(--color-border-ink));
    background: rgb(var(--color-bg-card));
    box-shadow: 12px 12px 0 rgba(var(--shadow-soft) / 0.16);
  }

  .photo {
    display: block;
    width: min(28rem, 100%);
    aspect-ratio: 4 / 5;
    object-fit: cover;
    border: 1.5px solid rgb(var(--color-border-ink));
  }

  .logo-photo {
    object-fit: contain;
    padding: 1.5rem;
    background: rgb(var(--color-bg-body));
  }

  .photo-corners .corner {
    position: absolute;
    width: 22px;
    height: 22px;
    border: 1.5px solid rgb(var(--color-border-ink));
    background: rgb(var(--color-bg-body));
  }

  .photo-corners .corner::after {
    content: "";
    position: absolute;
    inset: 5px;
    border: 1.5px solid rgb(var(--color-border-ink));
  }

  .photo-sticker {
    position: absolute;
    top: -1.4rem;
    right: -1.2rem;
    background: rgb(var(--color-primary-yellow));
    border: 1.5px solid rgb(var(--color-border-ink));
    padding: 0.45rem 0.85rem;
    font-size: 0.8rem;
    letter-spacing: 0.35em;
    text-transform: uppercase;
    box-shadow: 6px 6px 0 rgba(var(--shadow-soft) / 0.16);
  }

  .corner--tl { top: -12px; left: -12px; }
  .corner--tr { top: -12px; right: -12px; }
  .corner--bl { bottom: -12px; left: -12px; }
  .corner--br { bottom: -12px; right: -12px; }

  .stats-frame {
    border: 1.5px solid rgb(var(--color-border-ink));
    background: rgb(var(--color-bg-card));
    box-shadow: 10px 10px 0 rgba(var(--shadow-soft) / 0.12);
    padding: clamp(1.5rem, 3vw, 2.5rem);
  }

  .stats-grid {
    display: grid;
    gap: 2rem;
  }

  @media (min-width: 768px) {
    .stats-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 0;
    }
  }

  .stats-grid article {
    display: grid;
    gap: 0.45rem;
    padding: 1.4rem 1.5rem;
    border-bottom: 1px solid rgb(var(--color-border-ink) / 0.25);
  }

  @media (min-width: 768px) {
    .stats-grid article {
      min-height: 170px;
      border-right: 1px solid rgb(var(--color-border-ink) / 0.25);
    }

    .stats-grid article:nth-child(2n) {
      border-right: none;
    }

    .stats-grid article:nth-last-child(-n + 2) {
      border-bottom: none;
    }
  }

  .stats-grid article:last-child {
    border-bottom: none;
  }

  .stats-grid article h3 {
    font-size: 1.35rem;
    font-weight: 600;
    color: rgb(var(--color-text-heading));
  }

  .stats-grid article p {
    font-size: 0.95rem;
    color: rgb(var(--color-text-muted));
    letter-spacing: 0.01em;
  }

  .listening-deck {
    border: 1.5px solid rgb(var(--color-border-ink));
    background: rgb(var(--color-bg-card));
    box-shadow: 12px 12px 0 rgba(var(--shadow-soft) / 0.16);
    padding: clamp(1.8rem, 3vw, 2.6rem);
    display: grid;
    gap: clamp(1.8rem, 3vw, 2.6rem);
  }

  .deck-header {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
  }

  .deck-header h2 {
    font-size: 1.8rem;
    font-weight: 600;
    color: rgb(var(--color-text-heading));
  }

  .deck-header p {
    color: rgb(var(--color-text-muted));
    font-size: 0.95rem;
    max-width: 45ch;
  }

  .deck-grid {
    display: flex;
    flex-direction: column;
    gap: clamp(1.8rem, 2.5vw, 2.4rem);
    align-items: stretch;
  }

  @media (min-width: 900px) {
    .deck-grid {
      flex-direction: row;
      justify-content: center;
      align-items: stretch;
      gap: clamp(2.4rem, 5vw, 3.6rem);
    }

    .deck-grid > :first-child {
      flex: 1 1 520px;
      max-width: 640px;
    }

    .deck-grid > :last-child {
      flex: 0 0 clamp(320px, 30vw, 380px);
    }
  }

  .deck-grid > * {
    height: 100%;
    width: 100%;
  }

  :global(.dark) .photo-sticker {
    color: rgb(var(--color-text-heading));
  }
</style>
